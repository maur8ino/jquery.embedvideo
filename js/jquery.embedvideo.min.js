/*!
 *  Project: jQuery Embed Video
 *  Version: 1.0.2 (2013-01-18)
 *  Description: A jQuery plugin to embed video from Youtube and Facebook (and more to come in future) in a html container.
 *  Author: Mauro Verrocchio <mauroverrocchio@gmail.com>
 *  License: MIT
*/
(function(i){function t(t,s){this.$element=i(t),this.options=i.extend({},o,s),this._defaults=o,this._name=e,this.init()}var e="embedvideo",o={aspectRatio:1.77777778,width:480,height:!1,isFluid:!1,iframeUrl:!1,iframeClass:"youtube-player",videoMp4Url:!1,videoOggUrl:!1,videoFlashUrl:!1};t.prototype={init:function(){this.options.height=this.options.height||1/this.options.aspectRatio*parseInt(this.options.width,10),this.options.dimensions=this.options.isFluid?{width:"100%"}:{width:this.options.width,height:this.options.height},this.options.iframeUrl?this.$embeddedVideo=i("<iframe/>",{"class":this.options.iframeClass,type:"text/html",src:this.options.iframeUrl,frameborder:"0"}):(this.$embeddedVideo=i("<video/>").attr(i.extend({},{controls:""},this.options.dimensions)),this.options.videoMp4Url&&this.$embeddedVideo.append(i("<source/>",{src:this.options.videoMp4Url,type:"video/mp4"})),this.options.videoOggUrl&&this.$embeddedVideo.append(i("<source/>",{src:this.options.videoOggUrl,type:"video/ogg"})),this.options.videoFlashUrl&&this.$embeddedVideo.append(i("<object/>").attr(this.options.dimensions).append(i("<param/>",{name:"movie",value:this.options.videoFlashUrl})).append(i("<param/>",{name:"allowFullScreen",value:"true"})).append(i("<embed/>").attr(i.extend({},{src:this.options.videoFlashUrl,type:"application/x-shockwave-flash",allowfullscreen:"true"},this.options.dimensions))))),this.$element.append(this.$embeddedVideo)},fluidScale:function(){this.options.isFluid&&(this.options.width=this.$element.width(),this.options.height=1/this.options.aspectRatio*this.options.width,this.$embeddedVideo.attr({width:this.options.width,height:this.options.height}),this.$embeddedVideo.find("object").attr({width:this.options.width,height:this.options.height}),this.$embeddedVideo.find("object embed").attr({width:this.options.width,height:this.options.height}))}},i.fn[e]=function(o){return this.each(function(){i.data(this,"plugin_"+e)||i.data(this,"plugin_"+e,new t(this,o))})}})(jQuery,window,document);