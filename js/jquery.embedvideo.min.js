/*!
 *  Project: jQuery Embed Video
 *  Version: 1.0.1 (2013-01-11)
 *  Description: A jQuery plugin to embed video from Youtube and Facebook (and more to come in future) in a html container.
 *  Author: Mauro Verrocchio <mauroverrocchio@gmail.com>
 *  License: MIT
*/
(function(i,t){function e(t,e){this.$element=i(t),this.options=i.extend({},o,e),this._defaults=o,this._name=s,this.init()}var s="embedvideo",o={aspectRatio:1.77777778,width:480,isFluid:!1,autoScale:!0,iframeUrl:!1,iframeClass:"youtube-player",videoMp4Url:!1,videoOggUrl:!1};e.prototype={init:function(){this.options.height=this.options.height||1/this.options.aspectRatio*parseInt(this.options.width,10),this.options.dimensions=this.options.isFluid?{width:"100%","data-videoFluidResize":""}:{width:this.options.width,height:this.options.height},this.options.iframeUrl?this.$embeddedVideo=i("<iframe/>",{"class":this.options.iframeClass,type:"text/html",src:this.options.iframeUrl,frameborder:"0"}):(this.$embeddedVideo=i("<video/>").attr(i.extend({},{controls:""},this.options.dimensions)),this.options.videoMp4Url&&this.$embeddedVideo.append(i("<source/>",{src:this.options.videoMp4Url,type:"video/mp4"})),this.options.videoOggUrl&&this.$embeddedVideo.append(i("<source/>",{src:this.options.videoOggUrl,type:"video/ogg"})),this.options.videoFlashUrl&&this.$embeddedVideo.append(i("<object/>").attr(this.options.dimensions).append(i("<param/>",{name:"movie",value:this.options.videoFlashUrl})).append(i("<param/>",{name:"allowFullScreen",value:"true"})).append(i("<embed/>").attr(i.extend({},{src:this.options.videoFlashUrl,type:"application/x-shockwave-flash",allowfullscreen:"true"},this.options.dimensions))))),this.$element.append(this.$embeddedVideo),this.options.isFluid&&this.options.autoScale&&i(t).on("resize",this.fuildScale)},fluidScale:function(){this.options.isFluid&&(this.options.width=this.$element.width(),this.options.height=1/this.options.aspectRatio*this.options.width,this.$embeddedVideo.attr({width:this.options.width,height:this.options.height}))}},i.fn[s]=function(t){return this.each(function(){i.data(this,"plugin_"+s)||i.data(this,"plugin_"+s,new e(this,t))})}})(jQuery,window,document);